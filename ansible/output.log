[WARNING]: Unable to parse /Users/jonathan/Github/kube-ansible-
unqork/ansible/inventory as an inventory source
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that
the implicit localhost does not match 'all'
Using /Users/jonathan/Github/kube-ansible-unqork/ansible/ansible.cfg as config file

PLAY [Create Namespace] ********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Create a new namespace] **************************************************
changed: [localhost] => {"changed": true, "method": "create", "result": {"apiVersion": "v1", "kind": "Namespace", "metadata": {"creationTimestamp": "2023-10-30T04:40:16Z", "labels": {"kubernetes.io/metadata.name": "unqork-namespace"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:labels": {".": {}, "f:kubernetes.io/metadata.name": {}}}}, "manager": "OpenAPI-Generator", "operation": "Update", "time": "2023-10-30T04:40:16Z"}], "name": "unqork-namespace", "resourceVersion": "517213", "uid": "ee516f97-46b9-400a-80d5-8978b74da752"}, "spec": {"finalizers": ["kubernetes"]}, "status": {"phase": "Active"}}}

PLAY [Create ConfigMap] ********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Create a new ConfigMap] **************************************************
changed: [localhost] => {"changed": true, "method": "create", "result": {"apiVersion": "v1", "data": {"app-setting": "value"}, "kind": "ConfigMap", "metadata": {"creationTimestamp": "2023-10-30T04:40:18Z", "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:data": {".": {}, "f:app-setting": {}}}, "manager": "OpenAPI-Generator", "operation": "Update", "time": "2023-10-30T04:40:18Z"}], "name": "unqork-config", "namespace": "unqork-namespace", "resourceVersion": "517222", "uid": "65ed256c-03c7-4a93-bb86-6d3e00b9fdec"}}}

PLAY [Create Secret] ***********************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Create a new Secret] *****************************************************
changed: [localhost] => {"changed": true, "method": "create", "result": {"apiVersion": "v1", "data": {"api-key": "RmFrZS1BUEktS2V5"}, "kind": "Secret", "metadata": {"creationTimestamp": "2023-10-30T04:40:21Z", "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:data": {".": {}, "f:api-key": {}}, "f:type": {}}, "manager": "OpenAPI-Generator", "operation": "Update", "time": "2023-10-30T04:40:21Z"}], "name": "unqork-secret", "namespace": "unqork-namespace", "resourceVersion": "517231", "uid": "9194161b-eb13-4246-895b-e8978a76a8bb"}, "type": "Opaque"}}

PLAY [Deploy Redis] ************************************************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [roles/redis : Deploy Redis StatefulSet] **********************************
changed: [localhost] => {"changed": true, "method": "create", "result": {"apiVersion": "apps/v1", "kind": "StatefulSet", "metadata": {"creationTimestamp": "2023-10-30T04:40:23Z", "generation": 1, "managedFields": [{"apiVersion": "apps/v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:spec": {"f:persistentVolumeClaimRetentionPolicy": {".": {}, "f:whenDeleted": {}, "f:whenScaled": {}}, "f:podManagementPolicy": {}, "f:replicas": {}, "f:revisionHistoryLimit": {}, "f:selector": {}, "f:serviceName": {}, "f:template": {"f:metadata": {"f:labels": {".": {}, "f:app": {}}}, "f:spec": {"f:containers": {"k:{\"name\":\"redis\"}": {".": {}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":6379,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:protocol": {}}}, "f:resources": {".": {}, "f:limits": {".": {}, "f:cpu": {}, "f:memory": {}}, "f:requests": {".": {}, "f:cpu": {}, "f:memory": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:terminationGracePeriodSeconds": {}}}, "f:updateStrategy": {"f:rollingUpdate": {".": {}, "f:partition": {}}, "f:type": {}}, "f:volumeClaimTemplates": {}}}, "manager": "OpenAPI-Generator", "operation": "Update", "time": "2023-10-30T04:40:23Z"}], "name": "redis", "namespace": "unqork-namespace", "resourceVersion": "517238", "uid": "fccb7e08-55c8-480c-9440-c5583127d323"}, "spec": {"persistentVolumeClaimRetentionPolicy": {"whenDeleted": "Retain", "whenScaled": "Retain"}, "podManagementPolicy": "OrderedReady", "replicas": 1, "revisionHistoryLimit": 10, "selector": {"matchLabels": {"app": "redis"}}, "serviceName": "redis", "template": {"metadata": {"creationTimestamp": null, "labels": {"app": "redis"}}, "spec": {"containers": [{"image": "redis:latest", "imagePullPolicy": "Always", "name": "redis", "ports": [{"containerPort": 6379, "protocol": "TCP"}], "resources": {"limits": {"cpu": "500m", "memory": "128Mi"}, "requests": {"cpu": "250m", "memory": "64Mi"}}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File"}], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30}}, "updateStrategy": {"rollingUpdate": {"partition": 0}, "type": "RollingUpdate"}, "volumeClaimTemplates": [{"apiVersion": "v1", "kind": "PersistentVolumeClaim", "metadata": {"creationTimestamp": null, "name": "redis-storage"}, "spec": {"accessModes": ["ReadWriteOnce"], "resources": {"requests": {"storage": "1Gi"}}, "volumeMode": "Filesystem"}, "status": {"phase": "Pending"}}]}, "status": {"availableReplicas": 0, "replicas": 0}}}

PLAY [Create Redis Horizontal Pod Autoscaler] **********************************

TASK [Gathering Facts] *********************************************************
ok: [localhost]

TASK [Apply HPA to Redis] ******************************************************
changed: [localhost] => {"changed": true, "method": "create", "result": {"apiVersion": "autoscaling/v1", "kind": "HorizontalPodAutoscaler", "metadata": {"creationTimestamp": "2023-10-30T04:40:26Z", "managedFields": [{"apiVersion": "autoscaling/v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:spec": {"f:maxReplicas": {}, "f:minReplicas": {}, "f:scaleTargetRef": {}, "f:targetCPUUtilizationPercentage": {}}}, "manager": "OpenAPI-Generator", "operation": "Update", "time": "2023-10-30T04:40:26Z"}], "name": "redis-hpa", "namespace": "unqork-namespace", "resourceVersion": "517255", "uid": "0e271488-7e93-4a9c-b9b3-62c9cef682b7"}, "spec": {"maxReplicas": 3, "minReplicas": 1, "scaleTargetRef": {"apiVersion": "apps/v1", "kind": "StatefulSet", "name": "redis"}, "targetCPUUtilizationPercentage": 50}, "status": {"currentReplicas": 0, "desiredReplicas": 0}}}

PLAY RECAP *********************************************************************
localhost                  : ok=10   changed=5    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

